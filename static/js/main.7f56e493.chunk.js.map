{"version":3,"sources":["components/Container/index.js","services/api.js","pages/Main/styles.js","pages/Main/index.js","pages/Repository/styles.js","pages/Repository/index.js","routes.js","styles/global.js","App.js","serviceWorker.js","index.js"],"names":["Container","styled","div","api","axios","create","baseURL","Header","p","Form","form","rotate","keyframes","SubmitButton","button","attrs","props","type","disabled","loading","css","List","ul","memo","useState","newRepo","setNewRepo","repositories","setRepositories","setLoading","useEffect","repositoriesFromLS","localStorage","getItem","JSON","parse","setItem","stringify","handleSubmit","e","a","preventDefault","get","response","data","name","full_name","prevState","toast","success","error","onSubmit","placeholder","value","onChange","target","color","size","map","repository","key","to","encodeURIComponent","Loading","Owner","header","IssueList","match","issues","setRepository","setIsLoading","repoName","decodeURIComponent","params","loadDataFromAPI","useCallback","Promise","all","state","per_page","repositoryData","issuesData","src","owner","avatar_url","alt","login","description","issue","id","toString","user","href","html_url","rel","title","labels","label","basename","process","path","exact","component","Main","Repository","createGlobalStyle","configure","App","Boolean","window","location","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console","message"],"mappings":"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","file":"static/js/main.7f56e493.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nconst Container = styled.div`\n    max-width: 700px;\n    background: #fff;\n    border-radius: 4px;\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\n    padding: 30px;\n    margin: 80px auto;\n\n    h1 {\n        font-size: 20px;\n        display: flex;\n        align-items: center;\n        flex-direction: row;\n\n        svg {\n            margin-right: 10px;\n        }\n    }\n`;\n\nexport default Container;\n","import axios from 'axios';\n\nconst api = axios.create({\n    baseURL: 'https://api.github.com',\n});\n\nexport default api;\n","import styled, { keyframes, css } from 'styled-components';\n\nexport const Header = styled.p`\n    margin-top: 20px;\n`;\n\nexport const Form = styled.form`\n    margin-top: 30px;\n    display: flex;\n    flex-direction: row;\n\n    p {\n        margin-top: 10px;\n    }\n    input {\n        flex: 1;\n        border: 1px solid #eee;\n        padding: 10px 15px;\n        border-radius: 4px;\n        font-size: 16px;\n    }\n`;\n\nconst rotate = keyframes`\n    from {\n        transform: rotate(0deg)\n    }\n\n    to {\n        transform: rotate(360deg)\n    }\n`;\n\nexport const SubmitButton = styled.button.attrs(props => ({\n    type: 'submit',\n    disabled: props.loading,\n}))`\n    background: #7159c1;\n    border: 0;\n    padding: 0 15px;\n    margin-left: 10px;\n    border-radius: 4px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    &[disabled] {\n        cursor: not-allowed;\n        opacity: 0.6;\n    }\n\n    ${props =>\n        props.loading &&\n        css`\n            svg {\n                animation: ${rotate} 2s linear infinite;\n            }\n        `}\n`;\n\nexport const List = styled.ul`\n    list-style: none;\n    margin-top: 30px;\n\n    li {\n        padding: 15px 0%;\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        align-items: center;\n\n        & + li {\n            border-top: 1px solid #eee;\n        }\n\n        a {\n            color: #7159c9;\n            text-decoration: none;\n        }\n    }\n`;\n","import React, { memo, useState, useEffect } from 'react';\nimport { FaGithubAlt, FaPlus, FaSpinner } from 'react-icons/fa';\nimport { Link } from 'react-router-dom';\n\nimport { toast } from 'react-toastify';\nimport Container from '~/components/Container';\n\nimport api from '~/services/api';\n\nimport { Form, SubmitButton, List, Header } from './styles';\n\nconst Main = () => {\n    const [newRepo, setNewRepo] = useState('');\n    const [repositories, setRepositories] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        const repositoriesFromLS = localStorage.getItem('repositories');\n\n        if (repositoriesFromLS) {\n            setRepositories(JSON.parse(repositoriesFromLS));\n        }\n    }, []);\n\n    useEffect(() => {\n        localStorage.setItem('repositories', JSON.stringify(repositories));\n    }, [repositories]);\n\n    const handleInputChange = e => setNewRepo(e.target.value);\n\n    const handleSubmit = async e => {\n        e.preventDefault();\n        setLoading(true);\n\n        try {\n            const response = await api.get(`/repos/${newRepo}`);\n\n            const data = {\n                name: response.data.full_name,\n            };\n\n            setRepositories(prevState => [...prevState, data]);\n            setNewRepo('');\n\n            toast.success('Repositório adicionado com sucesso 🎉');\n        } catch (ex) {\n            return toast.error(\n                'Verifique os dados inseridos e tente novamente 😉'\n            );\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <Container>\n            <h1>\n                <FaGithubAlt />\n                Repositórios\n            </h1>\n\n            <Header>\n                Adicione um novo repositório utilizando o formato{' '}\n                <code>github_user/repo_name</code> (por exemplo,{' '}\n                <code>facebook/react</code>)\n            </Header>\n\n            <Form onSubmit={handleSubmit}>\n                <input\n                    type=\"text\"\n                    placeholder=\"Adicionar Repositório\"\n                    value={newRepo}\n                    onChange={handleInputChange}\n                />\n                <SubmitButton loading={loading}>\n                    {loading ? (\n                        <FaSpinner color=\"#fff\" size={14} />\n                    ) : (\n                        <FaPlus color=\"#fff\" size={14} />\n                    )}\n                </SubmitButton>\n            </Form>\n\n            <List>\n                {repositories.map(repository => (\n                    <li key={repository.name}>\n                        <span>{repository.name}</span>\n                        <Link\n                            to={`/repository/${encodeURIComponent(\n                                repository.name\n                            )}`}\n                        >\n                            <span>Detalhes</span>\n                        </Link>\n                    </li>\n                ))}\n            </List>\n        </Container>\n    );\n};\n\nexport default memo(Main);\n","import styled from 'styled-components';\n\nexport const Loading = styled.div`\n    color: #fff;\n    font-size: 30px;\n    font-weight: bold;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100vh;\n`;\n\nexport const Owner = styled.header`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    a {\n        color: #7159c1;\n        text-decoration: none;\n    }\n\n    img {\n        width: 120px;\n        border-radius: 50%;\n        margin-top: 20px;\n    }\n\n    h1 {\n        font-size: 24px;\n        margin-top: 10px;\n    }\n\n    p {\n        margin-top: 5px;\n        font-size: 14px;\n        color: #666;\n        line-height: 1.4;\n        text-align: center;\n        max-width: 400px;\n    }\n`;\n\nexport const IssueList = styled.ul`\n    padding-top: 30px;\n    margin-top: 30px;\n    border-top: 1px solid #eee;\n\n    li {\n        display: flex;\n        padding: 15px 10px;\n        border: 1px solid #eee;\n        border-radius: 4px;\n\n        & + li {\n            margin-top: 10px;\n        }\n    }\n\n    img {\n        width: 36px;\n        height: 36px;\n        border-radius: 50%;\n        border: 2px solid #eee;\n    }\n\n    div {\n        flex: 1;\n        margin-left: 15px;\n\n        strong {\n            font-size: 16px;\n\n            a {\n                text-decoration: none;\n                color: #333;\n\n                &:hover {\n                    color: #7159c1;\n                }\n            }\n\n            span {\n                background: #eee;\n                color: #333;\n                border-radius: 2px;\n                font-size: 12px;\n                font-weight: 600;\n                height: 20px;\n                padding: 3px 4px;\n                margin-left: 10px;\n            }\n        }\n\n        p {\n            margin-top: 5px;\n            font-size: 12px;\n            color: #999;\n        }\n    }\n`;\n","import React, { memo, useEffect, useState, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport Container from '~/components/Container';\n\nimport api from '~/services/api';\n\nimport { Loading, Owner, IssueList } from './styles';\n\nconst Repositories = ({ match }) => {\n    const [repository, setRepository] = useState({ data: {}, issues: [] });\n    const [loading, setIsLoading] = useState(true);\n\n    const repoName = decodeURIComponent(match.params.repository);\n\n    const loadDataFromAPI = useCallback(async () => {\n        const [repositoryData, issuesData] = await Promise.all([\n            api.get(`/repos/${repoName}`),\n            api.get(`/repos/${repoName}/issues`, {\n                params: {\n                    state: 'open',\n                    per_page: 5,\n                },\n            }),\n        ]);\n        setRepository({ data: repositoryData.data, issues: issuesData.data });\n        return setIsLoading(false);\n    }, [repoName]);\n\n    useEffect(() => {\n        loadDataFromAPI();\n    }, [loadDataFromAPI]);\n\n    if (loading) {\n        return <Loading>Carregando...</Loading>;\n    }\n\n    return (\n        <Container>\n            <Owner>\n                <Link to=\"/\">Voltar aos repositórios</Link>\n                <img\n                    src={repository.data.owner.avatar_url}\n                    alt={repository.data.owner.login}\n                />\n                <h1>{repository.data.name}</h1>\n                <p>{repository.data.description}</p>\n            </Owner>\n\n            <IssueList>\n                {repository.issues.map(issue => (\n                    <li key={issue.id.toString()}>\n                        <img\n                            src={issue.user.avatar_url}\n                            alt={issue.user.login}\n                        />\n                        <div>\n                            <strong>\n                                <a\n                                    href={issue.html_url}\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferrer\"\n                                >\n                                    {issue.title}\n                                </a>\n                                {issue.labels.map(label => (\n                                    <span key={label.id.toString()}>\n                                        {label.name}\n                                    </span>\n                                ))}\n                            </strong>\n                            <p>{issue.user.login}</p>\n                        </div>\n                    </li>\n                ))}\n            </IssueList>\n        </Container>\n    );\n};\n\nRepositories.propTypes = {\n    match: PropTypes.shape({\n        params: PropTypes.shape({\n            repository: PropTypes.string,\n        }),\n    }).isRequired,\n};\n\nexport default memo(Repositories);\n","import React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\n\nimport Main from './pages/Main';\nimport Repository from './pages/Repository';\n\nexport default function() {\n    return (\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\n            <Switch>\n                <Route path=\"/\" exact component={Main} />\n                <Route path=\"/repository/:repository\" component={Repository} />\n            </Switch>\n        </BrowserRouter>\n    );\n}\n","import { createGlobalStyle } from 'styled-components';\n\nexport default createGlobalStyle`\n    * {\n        margin: 0;\n        padding: 0;\n        outline: 0;\n        box-sizing: border-box;\n    }\n\n    html, body, #root {\n        min-height: 100%;\n    }\n\n    body {\n        background: #7159c1;\n        -webkit-font-smoothing: antialised !important;\n    }\n\n    body,input,button {\n        color: #222;\n        font-size: 14px;\n        font-family: Arial, Helvetica, sans-serif;\n    }\n\n    button {\n        cursor: pointer;\n    }\n`;\n","import React from 'react';\nimport { toast } from 'react-toastify';\n\nimport Routes from './routes';\n\nimport GlobalStyle from './styles/global';\n\nimport 'react-toastify/dist/ReactToastify.css';\n\ntoast.configure();\n\nconst App = () => (\n    <>\n        <Routes />\n        <GlobalStyle />\n    </>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === '[::1]' ||\n        // 127.0.0.0/8 are considered localhost for IPv4.\n        window.location.hostname.match(\n            /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n        )\n);\n\nexport function register(config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                    'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.');\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch(error => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n        headers: { 'Service-Worker': 'script' },\n    })\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (\n                response.status === 404 ||\n                (contentType != null &&\n                    contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log(\n                'No internet connection found. App is running in offline mode.'\n            );\n        });\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready\n            .then(registration => {\n                registration.unregister();\n            })\n            .catch(error => {\n                console.error(error.message);\n            });\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}