(this["webpackJsonprocketseat-react-repository"]=this["webpackJsonprocketseat-react-repository"]||[]).push([[0],{39:function(e,t,n){e.exports=n(66)},66:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(30),i=n.n(o),c=n(10),l=n(7),s=n(11),p=n.n(s),u=n(37),d=n(15),m=n(8),f=n(16),g=n(2),x=g.c.div.withConfig({displayName:"Container",componentId:"h801ij-0"})(["max-width:700px;background:#fff;border-radius:4px;box-shadow:0 0 20px rgba(0,0,0,0.1);padding:30px;margin:80px auto;h1{font-size:20px;display:flex;align-items:center;flex-direction:row;svg{margin-right:10px;}}"]),b=n(34),h=n.n(b).a.create({baseURL:"https://api.github.com"}),y=g.c.form.withConfig({displayName:"styles__Form",componentId:"sc-6xl8gr-0"})(["margin-top:30px;display:flex;flex-direction:row;input{flex:1;border:1px solid #eee;padding:10px 15px;border-radius:4px;font-size:16px;}"]),E=Object(g.d)(["from{transform:rotate(0deg)}to{transform:rotate(360deg)}"]),w=g.c.button.attrs((function(e){return{type:"submit",disabled:e.loading}})).withConfig({displayName:"styles__SubmitButton",componentId:"sc-6xl8gr-1"})(["background:#7159c1;border:0;padding:0 15px;margin-left:10px;border-radius:4px;display:flex;justify-content:center;align-items:center;&[disabled]{cursor:not-allowed;opacity:0.6;}",""],(function(e){return e.loading&&Object(g.b)(["svg{animation:"," 2s linear infinite;}"],E)})),v=g.c.ul.withConfig({displayName:"styles__List",componentId:"sc-6xl8gr-2"})(["list-style:none;margin-top:30px;li{padding:15px 0%;display:flex;flex-direction:row;justify-content:space-between;align-items:center;& + li{border-top:1px solid #eee;}a{color:#7159c9;text-decoration:none;}}"]),j=Object(a.memo)((function(){var e=Object(a.useState)(""),t=Object(m.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)([]),l=Object(m.a)(i,2),s=l[0],g=l[1],b=Object(a.useState)(!1),E=Object(m.a)(b,2),j=E[0],O=E[1];Object(a.useEffect)((function(){var e=localStorage.getItem("repositories");e&&g(JSON.parse(e))}),[]),Object(a.useEffect)((function(){localStorage.setItem("repositories",JSON.stringify(s))}),[s]);var k=function(){var e=Object(d.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(!0),e.next=4,h.get("/repos/".concat(n));case 4:return a=e.sent,r={name:a.data.full_name},g((function(e){return[].concat(Object(u.a)(e),[r])})),o(""),e.abrupt("return",O(!1));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(x,null,r.a.createElement("h1",null,r.a.createElement(f.a,null),"Reposit\xf3rios"),r.a.createElement(y,{onSubmit:k},r.a.createElement("input",{type:"text",placeholder:"Adicionar Reposit\xf3rio",value:n,onChange:function(e){return o(e.target.value)}}),r.a.createElement(w,{loading:j},j?r.a.createElement(f.c,{color:"#fff",size:14}):r.a.createElement(f.b,{color:"#fff",size:14}))),r.a.createElement(v,null,s.map((function(e){return r.a.createElement("li",{key:e.name},r.a.createElement("span",null,e.name),r.a.createElement(c.b,{to:"/repository/".concat(encodeURIComponent(e.name))},r.a.createElement("span",null,"Detalhes")))}))))})),O=g.c.div.withConfig({displayName:"styles__Loading",componentId:"sc-1xiv13y-0"})(["color:#fff;font-size:30px;font-weight:bold;display:flex;align-items:center;justify-content:center;height:100vh;"]),k=g.c.header.withConfig({displayName:"styles__Owner",componentId:"sc-1xiv13y-1"})(["display:flex;flex-direction:column;align-items:center;a{color:#7159c1;text-decoration:none;}img{width:120px;border-radius:50%;margin-top:20px;}h1{font-size:24px;margin-top:10px;}p{margin-top:5px;font-size:14px;color:#666;line-height:1.4;text-align:center;max-width:400px;}"]),_=g.c.ul.withConfig({displayName:"styles__IssueList",componentId:"sc-1xiv13y-2"})(["padding-top:30px;margin-top:30px;border-top:1px solid #eee;li{display:flex;padding:15px 10px;border:1px solid #eee;border-radius:4px;& + li{margin-top:10px;}}img{width:36px;height:36px;border-radius:50%;border:2px solid #eee;}div{flex:1;margin-left:15px;strong{font-size:16px;a{text-decoration:none;color:#333;&:hover{color:#7159c1;}}span{background:#eee;color:#333;border-radius:2px;font-size:12px;font-weight:600;height:20px;padding:3px 4px;margin-left:10px;}}p{margin-top:5px;font-size:12px;color:#999;}}"]),I=Object(a.memo)((function(e){var t=e.match,n=Object(a.useState)({data:{},issues:[]}),o=Object(m.a)(n,2),i=o[0],l=o[1],s=Object(a.useState)(!0),u=Object(m.a)(s,2),f=u[0],g=u[1],b=decodeURIComponent(t.params.repository),y=function(){var e=Object(d.a)(p.a.mark((function e(){var t,n,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([h.get("/repos/".concat(b)),h.get("/repos/".concat(b,"/issues"),{params:{state:"open",per_page:5}})]);case 2:return t=e.sent,n=Object(m.a)(t,2),a=n[0],r=n[1],l({data:a.data,issues:r.data}),e.abrupt("return",g(!1));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){y()}),[]),f?r.a.createElement(O,null,"Carregando..."):r.a.createElement(x,null,r.a.createElement(k,null,r.a.createElement(c.b,{to:"/"},"Voltar aos reposit\xf3rios"),r.a.createElement("img",{src:i.data.owner.avatar_url,alt:i.data.owner.login}),r.a.createElement("h1",null,i.data.name),r.a.createElement("p",null,i.data.description)),r.a.createElement(_,null,i.issues.map((function(e){return r.a.createElement("li",{key:e.id.toString()},r.a.createElement("img",{src:e.user.avatar_url,alt:e.user.login}),r.a.createElement("div",null,r.a.createElement("strong",null,r.a.createElement("a",{href:e.html_url,target:"_blank"},e.title),e.labels.map((function(e){return r.a.createElement("span",{key:e.id.toString()},e.name)}))),r.a.createElement("p",null,e.user.login)))}))))})),S=function(){return r.a.createElement(c.a,{basename:"/rocketseat-repository-web"},r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:j}),r.a.createElement(l.a,{path:"/repository/:repository",component:I})))},z=n(36);function C(){var e=Object(z.a)(["\n    * {\n        margin: 0;\n        padding: 0;\n        outline: 0;\n        box-sizing: border-box;\n    }\n\n    html, body, #root {\n        min-height: 100%;\n    }\n\n    body {\n        background: #7159c1;\n        -webkit-font-smoothing: antialised !important;\n    }\n\n    body,input,button {\n        color: #222;\n        font-size: 14px;\n        font-family: Arial, Helvetica, sans-serif;\n    }\n\n    button {\n        cursor: pointer;\n    }\n"]);return C=function(){return e},e}var N=Object(g.a)(C()),R=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.e2135510.chunk.js.map