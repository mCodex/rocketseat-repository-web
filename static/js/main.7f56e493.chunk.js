(this["webpackJsonprocketseat-react-repository"]=this["webpackJsonprocketseat-react-repository"]||[]).push([[0],{41:function(e,t,n){e.exports=n(69)},69:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),i=n.n(o),c=n(15),l=n(12),s=n(9),p=n(13),u=n.n(p),d=n(39),m=n(18),f=n(10),g=n(19),x=n(4),b=x.c.div.withConfig({displayName:"Container",componentId:"h801ij-0"})(["max-width:700px;background:#fff;border-radius:4px;box-shadow:0 0 20px rgba(0,0,0,0.1);padding:30px;margin:80px auto;h1{font-size:20px;display:flex;align-items:center;flex-direction:row;svg{margin-right:10px;}}"]),h=n(36),y=n.n(h).a.create({baseURL:"https://api.github.com"}),E=x.c.p.withConfig({displayName:"styles__Header",componentId:"sc-6xl8gr-0"})(["margin-top:20px;"]),v=x.c.form.withConfig({displayName:"styles__Form",componentId:"sc-6xl8gr-1"})(["margin-top:30px;display:flex;flex-direction:row;p{margin-top:10px;}input{flex:1;border:1px solid #eee;padding:10px 15px;border-radius:4px;font-size:16px;}"]),w=Object(x.d)(["from{transform:rotate(0deg)}to{transform:rotate(360deg)}"]),j=x.c.button.attrs((function(e){return{type:"submit",disabled:e.loading}})).withConfig({displayName:"styles__SubmitButton",componentId:"sc-6xl8gr-2"})(["background:#7159c1;border:0;padding:0 15px;margin-left:10px;border-radius:4px;display:flex;justify-content:center;align-items:center;&[disabled]{cursor:not-allowed;opacity:0.6;}",""],(function(e){return e.loading&&Object(x.b)(["svg{animation:"," 2s linear infinite;}"],w)})),O=x.c.ul.withConfig({displayName:"styles__List",componentId:"sc-6xl8gr-3"})(["list-style:none;margin-top:30px;li{padding:15px 0%;display:flex;flex-direction:row;justify-content:space-between;align-items:center;& + li{border-top:1px solid #eee;}a{color:#7159c9;text-decoration:none;}}"]),_=Object(a.memo)((function(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)([]),s=Object(f.a)(i,2),p=s[0],x=s[1],h=Object(a.useState)(!1),w=Object(f.a)(h,2),_=w[0],k=w[1];Object(a.useEffect)((function(){var e=localStorage.getItem("repositories");e&&x(JSON.parse(e))}),[]),Object(a.useEffect)((function(){localStorage.setItem("repositories",JSON.stringify(p))}),[p]);var C=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),k(!0),e.prev=2,e.next=5,y.get("/repos/".concat(n));case 5:a=e.sent,r={name:a.data.full_name},x((function(e){return[].concat(Object(d.a)(e),[r])})),o(""),c.a.success("Reposit\xf3rio adicionado com sucesso \ud83c\udf89"),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",c.a.error("Verifique os dados inseridos e tente novamente \ud83d\ude09"));case 15:return e.prev=15,k(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(b,null,r.a.createElement("h1",null,r.a.createElement(g.a,null),"Reposit\xf3rios"),r.a.createElement(E,null,"Adicione um novo reposit\xf3rio utilizando o formato"," ",r.a.createElement("code",null,"github_user/repo_name")," (por exemplo,"," ",r.a.createElement("code",null,"facebook/react"),")"),r.a.createElement(v,{onSubmit:C},r.a.createElement("input",{type:"text",placeholder:"Adicionar Reposit\xf3rio",value:n,onChange:function(e){return o(e.target.value)}}),r.a.createElement(j,{loading:_},_?r.a.createElement(g.c,{color:"#fff",size:14}):r.a.createElement(g.b,{color:"#fff",size:14}))),r.a.createElement(O,null,p.map((function(e){return r.a.createElement("li",{key:e.name},r.a.createElement("span",null,e.name),r.a.createElement(l.b,{to:"/repository/".concat(encodeURIComponent(e.name))},r.a.createElement("span",null,"Detalhes")))}))))})),k=x.c.div.withConfig({displayName:"styles__Loading",componentId:"sc-1xiv13y-0"})(["color:#fff;font-size:30px;font-weight:bold;display:flex;align-items:center;justify-content:center;height:100vh;"]),C=x.c.header.withConfig({displayName:"styles__Owner",componentId:"sc-1xiv13y-1"})(["display:flex;flex-direction:column;align-items:center;a{color:#7159c1;text-decoration:none;}img{width:120px;border-radius:50%;margin-top:20px;}h1{font-size:24px;margin-top:10px;}p{margin-top:5px;font-size:14px;color:#666;line-height:1.4;text-align:center;max-width:400px;}"]),I=x.c.ul.withConfig({displayName:"styles__IssueList",componentId:"sc-1xiv13y-2"})(["padding-top:30px;margin-top:30px;border-top:1px solid #eee;li{display:flex;padding:15px 10px;border:1px solid #eee;border-radius:4px;& + li{margin-top:10px;}}img{width:36px;height:36px;border-radius:50%;border:2px solid #eee;}div{flex:1;margin-left:15px;strong{font-size:16px;a{text-decoration:none;color:#333;&:hover{color:#7159c1;}}span{background:#eee;color:#333;border-radius:2px;font-size:12px;font-weight:600;height:20px;padding:3px 4px;margin-left:10px;}}p{margin-top:5px;font-size:12px;color:#999;}}"]),z=Object(a.memo)((function(e){var t=e.match,n=Object(a.useState)({data:{},issues:[]}),o=Object(f.a)(n,2),i=o[0],c=o[1],s=Object(a.useState)(!0),p=Object(f.a)(s,2),d=p[0],g=p[1],x=decodeURIComponent(t.params.repository),h=Object(a.useCallback)(Object(m.a)(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([y.get("/repos/".concat(x)),y.get("/repos/".concat(x,"/issues"),{params:{state:"open",per_page:5}})]);case 2:return t=e.sent,n=Object(f.a)(t,2),a=n[0],r=n[1],c({data:a.data,issues:r.data}),e.abrupt("return",g(!1));case 8:case"end":return e.stop()}}),e)}))),[x]);return Object(a.useEffect)((function(){h()}),[h]),d?r.a.createElement(k,null,"Carregando..."):r.a.createElement(b,null,r.a.createElement(C,null,r.a.createElement(l.b,{to:"/"},"Voltar aos reposit\xf3rios"),r.a.createElement("img",{src:i.data.owner.avatar_url,alt:i.data.owner.login}),r.a.createElement("h1",null,i.data.name),r.a.createElement("p",null,i.data.description)),r.a.createElement(I,null,i.issues.map((function(e){return r.a.createElement("li",{key:e.id.toString()},r.a.createElement("img",{src:e.user.avatar_url,alt:e.user.login}),r.a.createElement("div",null,r.a.createElement("strong",null,r.a.createElement("a",{href:e.html_url,target:"_blank",rel:"noopener noreferrer"},e.title),e.labels.map((function(e){return r.a.createElement("span",{key:e.id.toString()},e.name)}))),r.a.createElement("p",null,e.user.login)))}))))})),S=function(){return r.a.createElement(l.a,{basename:"/rocketseat-repository-web"},r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,component:_}),r.a.createElement(s.a,{path:"/repository/:repository",component:z})))},N=n(38);function R(){var e=Object(N.a)(["\n    * {\n        margin: 0;\n        padding: 0;\n        outline: 0;\n        box-sizing: border-box;\n    }\n\n    html, body, #root {\n        min-height: 100%;\n    }\n\n    body {\n        background: #7159c1;\n        -webkit-font-smoothing: antialised !important;\n    }\n\n    body,input,button {\n        color: #222;\n        font-size: 14px;\n        font-family: Arial, Helvetica, sans-serif;\n    }\n\n    button {\n        cursor: pointer;\n    }\n"]);return R=function(){return e},e}var J=Object(x.a)(R());n(68);c.a.configure();var L=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.7f56e493.chunk.js.map